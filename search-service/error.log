{"level":"error","message":"failed to connect to server consumeEvent is not defined","service":"post-service","stack":"ReferenceError: consumeEvent is not defined\n    at startServer (file:///Users/ogoncharenko/Projects/social-media-microservices/search-service/src/server.js:47:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-21T01:06:31.797Z"}
{"level":"error","message":"Error handling creation event for posts Search is not defined","service":"post-service","stack":"ReferenceError: Search is not defined\n    at searchEventHandler (file:///Users/ogoncharenko/Projects/social-media-microservices/search-service/src/eventHandlers/searchEventHandler.js:5:27)\n    at file:///Users/ogoncharenko/Projects/social-media-microservices/search-service/src/utils/rabbitmq.js:35:7\n    at Channel.dispatchMessage (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:485:14)\n    at Channel.handleDelivery (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:494:17)\n    at Channel.emit (node:events:518:28)\n    at /Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:391:10\n    at Channel.content [as handleMessage] (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:444:9)\n    at Channel.acceptMessageFrame (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:228:33)\n    at Channel.accept (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:298:19)\n    at Connection.mainAccept [as accept] (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/connection.js:579:33)","timestamp":"2025-03-21T01:10:22.881Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:13:38.959Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:15:11.304Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:15:46.639Z"}
