{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:06:31.796Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:07:03.691Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:07:03.741Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:07:03.750Z"}
{"level":"info","message":"Connected to database","service":"post-service","timestamp":"2025-03-21T01:07:04.353Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:09:33.670Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:09:33.706Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:09:33.708Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:09:47.901Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:09:47.906Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:09:47.908Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:10:22.869Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:10:22.876Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:10:22.878Z"}
{"level":"error","message":"Error handling creation event for posts Search is not defined","service":"post-service","stack":"ReferenceError: Search is not defined\n    at searchEventHandler (file:///Users/ogoncharenko/Projects/social-media-microservices/search-service/src/eventHandlers/searchEventHandler.js:5:27)\n    at file:///Users/ogoncharenko/Projects/social-media-microservices/search-service/src/utils/rabbitmq.js:35:7\n    at Channel.dispatchMessage (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:485:14)\n    at Channel.handleDelivery (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:494:17)\n    at Channel.emit (node:events:518:28)\n    at /Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:391:10\n    at Channel.content [as handleMessage] (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:444:9)\n    at Channel.acceptMessageFrame (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:228:33)\n    at Channel.accept (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/channel.js:298:19)\n    at Connection.mainAccept [as accept] (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/amqplib/lib/connection.js:579:33)","timestamp":"2025-03-21T01:10:22.881Z"}
{"level":"info","message":"Connected to database","service":"post-service","timestamp":"2025-03-21T01:10:23.266Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:10:46.976Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:10:46.982Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:10:46.983Z"}
{"level":"info","message":"Connected to database","service":"post-service","timestamp":"2025-03-21T01:10:47.447Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbcd09e4f5b4318f85205',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'text',\n  createdAt: 2025-03-21T01:11:44.026Z,\n  _id: new ObjectId('67dcbcd0a289ea47b9681d75'),\n  updatedAt: 2025-03-21T01:11:44.026Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:11:44.165Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:13:38.959Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:15:07.596Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:15:07.612Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:15:07.614Z"}
{"level":"info","message":"Connected to database","service":"post-service","timestamp":"2025-03-21T01:15:08.041Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:15:11.304Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbdbd9e4f5b4318f8520b',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:15:41.523Z,\n  _id: new ObjectId('67dcbdbd82a202cf372b4ac8'),\n  updatedAt: 2025-03-21T01:15:41.523Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:15:41.643Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"}},"index":0,"keyPattern":{"userId":1},"keyValue":{"userId":"67d9bef46c9708f48dc1341f"},"level":"error","message":"Error handling creation event for posts E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }","service":"post-service","stack":"MongoServerError: E11000 duplicate key error collection: social-media-microservices.searches index: userId_1 dup key: { userId: \"67d9bef46c9708f48dc1341f\" }\n    at InsertOneOperation.execute (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/Users/ogoncharenko/Projects/social-media-microservices/search-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-21T01:15:46.639Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbe239e4f5b4318f8520f',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:17:23.792Z,\n  _id: new ObjectId('67dcbe2382a202cf372b4acc'),\n  updatedAt: 2025-03-21T01:17:23.792Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:17:23.935Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbe269e4f5b4318f85211',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:17:26.014Z,\n  _id: new ObjectId('67dcbe2682a202cf372b4ace'),\n  updatedAt: 2025-03-21T01:17:26.014Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:17:26.137Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbe289e4f5b4318f85213',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:17:28.248Z,\n  _id: new ObjectId('67dcbe2882a202cf372b4ad0'),\n  updatedAt: 2025-03-21T01:17:28.248Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:17:28.355Z"}
{"level":"info","message":"Connected to RabbitMQ","service":"post-service","timestamp":"2025-03-21T01:20:33.547Z"}
{"level":"info","message":"Consuming events from RabbitMQ","queue":"post.created","service":"post-service","timestamp":"2025-03-21T01:20:33.586Z"}
{"level":"info","message":"Search service started on port 3006","service":"post-service","timestamp":"2025-03-21T01:20:33.587Z"}
{"level":"info","message":"Connected to database","service":"post-service","timestamp":"2025-03-21T01:20:34.073Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbefd9e4f5b4318f85215',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:21:01.263Z,\n  _id: new ObjectId('67dcbefd57f46c22d506daa4'),\n  updatedAt: 2025-03-21T01:21:01.263Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:21:01.431Z"}
{"level":"info","message":"New search post created: {\n  postId: '67dcbf209e4f5b4318f85217',\n  userId: '67d9bef46c9708f48dc1341f',\n  content: 'some content',\n  createdAt: 2025-03-21T01:21:36.558Z,\n  _id: new ObjectId('67dcbf2057f46c22d506daa6'),\n  updatedAt: 2025-03-21T01:21:36.558Z,\n  __v: 0\n}","service":"post-service","timestamp":"2025-03-21T01:21:36.659Z"}
